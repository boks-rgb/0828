<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë³´ì„ë™êµ´ ê·¸ë¦¼ì±… íƒí—˜ëŒ€</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body class="bg-[#E0F7F1] min-h-screen p-6 text-sm">
  <h1 class="text-2xl font-bold text-center text-[#007F6D] mb-4">&lt;ë³´ì„ë™êµ´&gt; ê·¸ë¦¼ì±… íƒí—˜ëŒ€</h1>

  <div class="flex flex-wrap justify-center gap-2 mb-4">
    <button id="toggleMenu" class="bg-sky-900 text-white rounded px-4 py-2">ë©”ë‰´ ìˆ¨ê¸°ê¸° ğŸ“˜</button>
    <button data-page="1" class="menu-btn bg-sky-900 text-white rounded px-4 py-2">1. ì–´ë–¤ ë³´ì„ë“¤ì´ ìˆì„ê¹Œìš”?</button>
    <button data-page="2" class="menu-btn bg-white border px-4 py-2 rounded">2. ë‚˜ì˜ ê°•ì  ë³´ì„</button>
    <button data-page="3" class="menu-btn bg-white border px-4 py-2 rounded">3. ë‚˜ì˜ í•„ìš” ë³´ì„</button>
    <button data-page="4" class="menu-btn bg-white border px-4 py-2 rounded">4. í™œë™ ë‹¤ì§</button>
  </div>

  <div id="content" class="max-w-4xl mx-auto">
    <div id="gem-meaning" class="text-center text-sm bg-white rounded shadow-md p-4 mb-6 hidden"></div>
    <div id="gem-list" class="grid grid-cols-4 gap-2 text-center mb-6"></div>
    <div id="extra-content" class="mb-6"></div>
  </div>

  <div class="flex justify-center gap-2 mt-8">
    <button onclick="saveImage()" class="bg-sky-900 text-white px-4 py-2 rounded">ì €ì¥í•˜ê¸° ğŸ–¼ï¸</button>
    <button onclick="copyLink()" class="bg-sky-900 text-white px-4 py-2 rounded">ë§í¬ ë³µì‚¬ ğŸ”—</button>
  </div>

  <script>
    const gems = [
      ["ê°ì‚¬", "ë°°ë ¤", "ìœ ì—°ì„±", "ì°½ì˜ì„±"],
      ["ê²°ì˜", "ë´‰ì‚¬", "ì´ìƒí’ˆê¸°", "ì±…ì„ê°"],
      ["ê²¸ì†", "ì‚¬ë‘", "ì´í•´", "ì²­ê²°"],
      ["ê´€ìš©", "ì‚¬ë ¤", "ì¸ë‚´", "ì´ˆì—°"],
      ["ê·¼ë©´", "ìƒëƒ¥í•¨", "ì¸ì •", "ì¶©ì§"],
      ["ê¸°ë»í•¨", "ì†Œì‹ ", "ììœ¨", "ì¹œì ˆ"],
      ["ê¸°ì§€", "ì‹ ë¢°", "ì ˆë„", "íƒì›”í•¨"],
      ["ëˆê¸°", "ì‹ ìš©", "ì •ëˆ", "í‰ì˜¨í•¨"],
      ["ë„ˆê·¸ëŸ¬ì›€", "ì—´ì •", "ì •ì˜ë¡œì›€", "í•œê²°ê°™ìŒ"],
      ["ë„ì›€", "ì˜ˆì˜", "ì •ì§", "í—Œì‹ "],
      ["ëª…ì˜ˆ", "ìš©ê¸°", "ì¡´ì¤‘", "í˜‘ë™"],
      ["ëª©ì ì˜ì‹", "ìš©ì„œ", "ì¤‘ìš©", "í™”í•©"],
      ["ë¯¿ìŒì§í•¨", "ìš°ì˜", "ì§„ì‹¤í•¨", "í™•ì‹ "]
    ];

    const gemMeanings = {
      ìš©ê¸°: "ë‘ë ¤ì›€ì„ ì´ê¸°ê³  í–‰ë™í•˜ëŠ” íƒœë„",
      ë°°ë ¤: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ê¸°ë¶„ê³¼ ì…ì¥ì„ ìƒê°í•˜ëŠ” íƒœë„",
      ì±…ì„ê°: "ë§¡ì€ ì¼ì„ ëê¹Œì§€ í•´ë‚´ëŠ” ì„±ì‹¤í•¨",
      ì •ì§: "ê±°ì§“ ì—†ì´ ë°”ë¥´ê²Œ ë§í•˜ê³  í–‰ë™í•˜ëŠ” íƒœë„",
      ê°ì‚¬: "ì†Œì¤‘í•¨ì„ ì•Œê³  ê³ ë§ˆì›€ì„ í‘œí˜„í•˜ëŠ” ë§ˆìŒ",
      í™•ì‹ : "í™•ê³ í•œ ë¯¿ìŒì„ ê°–ê³  í–‰ë™í•˜ëŠ” íƒœë„",
      // ê¸°íƒ€ ë‚˜ë¨¸ì§€ 46ê°œë„ í•„ìš”ì‹œ ì¶”ê°€
    };

    let selectedPage = 1;
    let clickedGems = [];

    const gemList = document.getElementById("gem-list");
    const gemMeaning = document.getElementById("gem-meaning");
    const extraContent = document.getElementById("extra-content");
    const menuButtons = document.querySelectorAll(".menu-btn");

    function renderGems() {
      gemList.innerHTML = "";
      gems.flat().forEach(word => {
        const btn = document.createElement("div");
        btn.textContent = word;
        btn.className = `cursor-pointer py-2 rounded shadow ${
          clickedGems.includes(word) && selectedPage === 1 ? 'bg-pink-300 text-white' : 'bg-white'
        } hover:bg-blue-100`;
        btn.onclick = () => {
          if (selectedPage === 1) clickedGems.push(word);
          gemMeaning.innerHTML = `<div class="text-2xl mb-1">ğŸ’</div><div class="font-bold">${word}</div><div>${gemMeanings[word] || "ëœ»ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤."}</div>`;
          gemMeaning.classList.remove("hidden");
          renderGems();
        };
        gemList.appendChild(btn);
      });
    }

    function renderExtraContent() {
      extraContent.innerHTML = "";
      if (selectedPage === 2) {
        extraContent.innerHTML = `<h2 class="text-lg font-semibold mb-2">ë‚´ê°€ ì˜í•˜ëŠ” ë³´ì„ 2ê°œë¥¼ ê³¨ë¼ ì´ìœ ë¥¼ ì¨ë³´ì„¸ìš”.</h2>`;
      } else if (selectedPage === 3) {
        extraContent.innerHTML = `<h2 class="text-lg font-semibold mb-2">ì§€ê¸ˆ ë‚˜ì—ê²Œ í•„ìš”í•œ ë³´ì„ 2ê°œë¥¼ ê³¨ë¼ ì´ìœ ë¥¼ ì¨ë³´ì„¸ìš”.</h2>`;
      } else if (selectedPage === 4) {
        extraContent.innerHTML = `
          <h2 class="text-lg font-semibold mb-2">ì˜¤ëŠ˜ì˜ í™œë™ ë‹¤ì§</h2>
          <input type="text" placeholder="ë‚˜ì˜ ë‹¤ì§ì„ ì ì–´ë³´ì„¸ìš”" class="w-full px-4 py-2 border rounded" />
        `;
      }
    }

    document.querySelectorAll(".menu-btn").forEach(btn => {
      btn.onclick = () => {
        selectedPage = parseInt(btn.dataset.page);
        menuButtons.forEach(b => b.classList.remove("bg-sky-900", "text-white"));
        btn.classList.add("bg-sky-900", "text-white");
        renderGems();
        renderExtraContent();
      };
    });

    document.getElementById("toggleMenu").onclick = () => {
      const visible = menuButtons[0].style.display !== "none";
      menuButtons.forEach(btn => btn.style.display = visible ? "none" : "inline-block");
      document.getElementById("toggleMenu").textContent = visible ? "ë©”ë‰´ ë³´ì´ê¸° ğŸ“˜" : "ë©”ë‰´ ìˆ¨ê¸°ê¸° ğŸ“˜";
    };

    function saveImage() {
      html2canvas(document.body).then(canvas => {
        const link = document.createElement("a");
        link.download = "my-gem.png";
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    function copyLink() {
      navigator.clipboard.writeText(location.href);
      alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }

    renderGems();
  </script>
</body>
</html>
